<!DOCTYPE html>
<html>
  <head>
    <title>My Notes</title>
    <link rel="stylesheet" href="/style.css" />
  </head>
  <body>
    <div class="container">
      <h1>ğŸ“ My Notes</h1>

      <form action="/notes" method="POST" class="note-form">
        <input type="text" name="note" placeholder="Enter a note..." required />
        <button type="submit">Add</button>
      </form>

      <ul class="note-list">
        <% if (notes.length === 0) { %>
        <li class="empty">No notes yet.</li>
        <% } else { %> <% notes.forEach(function(note, index) { %>
        <li><%= note %></li>
        <% }); %> <% } %>
      </ul>

      <a href="/" class="back-link">â† Back to Home</a>
    </div>
    <div class="dark-toggle">
      <label class="switch">
        <input type="checkbox" id="darkModeToggle" />
        <span class="slider"></span>
      </label>
      <span class="toggle-label">ğŸŒ™ Dark Mode</span>
    </div>

    <script>
      const toggle = document.getElementById("darkModeToggle");

      if (localStorage.getItem("darkMode") === "enabled") {
        document.body.classList.add("dark");
        if (toggle) toggle.checked = true;
      }

      if (toggle) {
        toggle.addEventListener("change", () => {
          if (toggle.checked) {
            document.body.classList.add("dark");
            localStorage.setItem("darkMode", "enabled");
          } else {
            document.body.classList.remove("dark");
            localStorage.setItem("darkMode", "disabled");
          }
        });
      }
    </script>
  </body>
</html>
